{% extends 'tweets/base.html' %}
{% load static %}

{% block title %}ã€Œ{{ query }}ã€ã®æ¤œç´¢çµæœ - ã¤ã¶ã‚„ã{% endblock %}

{% block main %}
<h2>ã€Œ{{ query }}ã€ã®æ¤œç´¢çµæœ</h2>
<a href="{% url 'tweets:index' %}">ã¤ã¶ã‚„ãTOPã¸</a>
<hr>

{#æ¤œç´¢ãƒãƒ¼#}
<nav class="navbar mb-2">
    <div class="col-12 col-md-6 col-lg-10">
    <div class="container-fluid" style="background-color: #">
        <form class="d-flex align-items-center" action="{% url 'tweets:results' %}" method="get" role="search">
            <input class="form-control search-input me-5" type="search" name="q" placeholder="ã¤ã¶ã‚„ãorãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¤œç´¢:ğŸ”" aria-label="Search">
            <button class="btn btn-primary text-nowrap" type="submit">æ¤œç´¢</button>
        </form>
    </div>
</nav>

{#æ¤œç´¢çµæœã‚’è¡¨ç¤º#}
{% if results %}
    {#å…¥åŠ›ã—ãŸãƒ¯ãƒ¼ãƒ‰ãŒå¼•ã£ã‹ã‹ã£ãŸã¨ã#}
    {% for tweet in results %}
    <div class="mb-0 card border-primary tweet-card {% if forloop.first %}first-card{% endif %}" style="max-width: 35rem; position: relative; background-color: #f9fdfe;">
        <div class="card-header p-0" style="background-color: #eff8ff;">
            <span style="margin-right: 5px;"></span>
            <a href="{% url 'accounts:profile' tweet.user.pk %}"  class="username-large">{{ tweet.user.username }}</a>
        </div>
        <div class="card-body p-2 text-primary">
            <p class="card-text text-black">{{ tweet.content|urlize|linebreaksbr }}</p>
            <div style="text-align: left;">
                {% if tweet.image %}
                {#ç”»åƒã‚’è¡¨ç¤º#}
                <img src="{{ tweet.image.url }}" alt="Tweet Image" style="max-width: 100%; height: auto; display: block; margin: 0;">
                {% endif %}
                {#æ—¥æ™‚ã‚’è¡¨ç¤º#}
                <small class="text-muted" style="display: block; margin-top: 10px;">{{ tweet.created_at }}</small>
            </div>

        </div>
    </div>
    {% endfor %}
{% else %}
{#æ¤œç´¢çµæœãŒãªã‹ã£ãŸæ™‚ã«è¡¨ç¤º#}
<img src="{% static 'assets/img/results.png' %}" alt="No data" style="position:absolute;left:50%;transform:translateX(-50%);" class="results-image" width="150" height="150">
{% endif %}

{% endblock %}
